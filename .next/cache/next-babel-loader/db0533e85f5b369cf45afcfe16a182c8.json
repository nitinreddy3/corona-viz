{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport { COVID_API } from '../constants';\nexport default function useFetch() {\n  var endpoint = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var _useState = useState(),\n      data = _useState[0],\n      setData = _useState[1];\n\n  useEffect(function () {\n    function fetchData() {\n      var response, data;\n      return _regeneratorRuntime.async(function fetchData$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(fetch(\"\".concat(COVID_API, \"/\").concat(endpoint)));\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 5:\n              data = _context.sent;\n              setData(data);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    fetchData();\n  }, []);\n  return data;\n}","map":{"version":3,"sources":["W:/learning/corona-viz/utils/useFetch.js"],"names":["React","useState","useEffect","COVID_API","useFetch","endpoint","data","setData","fetchData","fetch","response","json"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,cAA1B;AAEA,eAAe,SAASC,QAAT,GAAiC;AAAA,MAAfC,QAAe,uEAAJ,EAAI;;AAAA,kBACtBJ,QAAQ,EADc;AAAA,MACvCK,IADuC;AAAA,MACjCC,OADiC;;AAE9CL,EAAAA,SAAS,CAAC,YAAM;AACd,aAAeM,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACyBC,KAAK,WAAIN,SAAJ,cAAiBE,QAAjB,EAD9B;;AAAA;AACQK,cAAAA,QADR;AAAA;AAAA,+CAEqBA,QAAQ,CAACC,IAAT,EAFrB;;AAAA;AAEQL,cAAAA,IAFR;AAGEC,cAAAA,OAAO,CAACD,IAAD,CAAP;;AAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKAE,IAAAA,SAAS;AACV,GAPQ,EAON,EAPM,CAAT;AAQA,SAAOF,IAAP;AACD","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { COVID_API } from '../constants';\r\n\r\nexport default function useFetch(endpoint = '') {\r\n  const [data, setData] = useState();\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const response = await fetch(`${COVID_API}/${endpoint}`)\r\n      const data = await response.json()\r\n      setData(data);\r\n    }\r\n    fetchData()\r\n  }, [])\r\n  return data;\r\n}"]},"metadata":{},"sourceType":"module"}